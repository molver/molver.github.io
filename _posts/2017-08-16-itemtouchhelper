---
title: "使用 ItemTouchHelper 实现 RecyclerView 滑动删除和长按拖动"
date:   2017-8-16 16:06:00 +0800
categories: 编程
tags: android
published: false
---

## 前言

有很多教程或第三方库可以实现 RecyclerView 的滑动删除和长按拖动功能，可能利用了 `GestureDetector` 或 `View.OnDragListener` 去实现。
但其实要实现这个功能只需要一个类，且已经在 Android Support Library 中了-- 那就是 [`ItemTouchHelper`](https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.html)

## 设置
在 build.gradle 中添加:
{% highlight groovy %}
compile 'com.android.support:recyclerview-v7:26.0.0-alpha1'
{% endHighlight %}

## 使用 ItemTouchHelper 和 ItemTouchHelper.Callback
要使用 `ItemTouchHelp` 需要 `ItemTouchHelper.Callback` 依赖，Callback 是一个抽象类，需要通过继承实现。它可以监听 `move`、 `swip`，或对 ItemTouchHelper 的一些行为进行设置。

### 实现 ItemTouchHelper.Callback


